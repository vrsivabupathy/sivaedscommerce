import{g as d,F as o}from"./getFormValues.js";const E={PENDING:"pending",AUTHORIZED:"authorized",PARTIALLY_AUTHORIZED:"partiallyAuthorized",RECEIVED:"received",PARTIALLY_RECEIVED:"partiallyReceived",APPROVED:"approved",PARTIALLY_APPROVED:"partiallyApproved",REJECTED:"rejected",PARTIALLY_REJECTED:"partiallyRejected",DENIED:"denied",PROCESSED_AND_CLOSED:"processedAndClosed",CLOSED:"closed"},u=(t,e)=>({id:`${t.id}_${t.fieldType}_${e+1}`,name:`${t.name}_${t.fieldType}_${e+1}`,code:`${t.code}_${t.fieldType}_${e+1}`,customUpperCode:`${t.customUpperCode}_${t.fieldType}_${e+1}`}),l=t=>{const e={};return!t||typeof t!="object"||Object.keys(t).length===0||Object.keys(t).forEach(n=>{if(n.match(/_(\d+)$/)){const s=n.replace(/_\d+$/,"");e[s]=t[n]}else e[n]=t[n]}),e},A=(t,e)=>t.map(n=>({...n,...u(n,e)})),C=(t,e)=>t==null?void 0:t.flatMap(n=>Array.from({length:e},(i,s)=>({...n,...u(n,s)}))),m=t=>{const e=[],n=[];return Object.entries(t).forEach(([i,s])=>{const a=i.lastIndexOf("_"),r=i.slice(0,a),c=i.slice(a+1);c===o.MULTISELECT||c===o.SELECT?e.push({attributeCode:r,value:s}):n.push({attributeCode:r,value:s})}),{selectedCustomAttributes:e,enteredCustomAttributes:n}},_=t=>typeof t!="string"?"":E[t]??"",h=t=>{var n;const e=[];if(t!=null&&t.current.length)for(let i=0;i<t.current.length;i++){const{current:s}=t.current[i];if(!s)continue;const a=s.name.replace(/_\d+$/,""),r=((n=s==null?void 0:s.dataset)==null?void 0:n.quantity)??1,c=d(s),p=l(c);e.push({orderItemUid:a,quantityToReturn:+r,...m(p)})}return e},T=t=>{var e,n;return(e=t==null?void 0:t.items)!=null&&e.length?(n=t==null?void 0:t.items)==null?void 0:n.sort((i,s)=>{const a=i.quantityShipped-i.quantityReturnRequested===0,r=s.quantityShipped-s.quantityReturnRequested===0;return a&&!r?1:!a&&r?-1:0}):[]};export{_ as f,A as m,h as p,C as r,T as s};
